#command-injection-1 풀이법

---

| 연산자     | 설명                                                                                                                                    |
| ---------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| \`명령어\` | 명령어 치환: backtick(\`) 안에 있는 명령어를 실행하고 결과로 치환합니다. 예시: \`echo theori\`는 "theori"를 반환합니다.                 |
| $(명령어)  | 명령어 치환: 괄호 안에 있는 명령어를 실행하고 결과로 치환합니다. 예시: $(echo theori)는 "theori"를 반환합니다.                          |
| &&         | 명령어 연속 실행: 앞의 명령어가 성공적으로 실행된 경우(0의 종료 상태를 반환)에만 다음 명령어를 실행합니다. (논리적 AND)                 |
| \|\|       | 명령어 연속 실행: 앞의 명령어가 실패한 경우(0이 아닌 종료 상태를 반환)에만 다음 명령어를 실행합니다. (논리적 OR)                        |
| ;          | 명령어 구분자: 한 줄에 여러 명령어를 사용하고자 할 때 사용합니다. 이전 명령어의 종료 상태와 상관없이 각 명령어를 순차적으로 실행합니다. |
| \|         | 파이프: 이전 명령어의 출력을 다음 명령어의 입력으로 보냅니다. 예시: echo id \| /bin/sh                                                  |

---

/ping 페이지에서 post 요청을 보내 flag를 흭득해야 한다.
app.py의 20행을 보면 cmd = f'ping -c 3 "{host}"' 이며 post로 입력한 값이 대입된다.
즉 여기서 취약점을 찾아내야 한다. ;를 이용하여 이전 명령의 상관없이 내가 원하는 쉘 코드를 집어 넣는것을 시도하였다.
문제에 명시 된대로 flag py를 출력하기 위해 다음과 같이 ;cat flag.py 입력하였지만 html 코드에 존재하는 pattern속성에 의하여 계속 막혔다.
이를 해결하기 위하여 우선 개발자 도구의 element에서 patteren 속성을 제거해주고 다시 시도하였지만 post로 값은 전달 되었지만 에러가 발생되었다.
app.py의 22행을 보면 쉘이 -c 옵션에 의해 실행됨을 알 수 있다.
즉 ";cat flag.py" 처럼 따옴표를 감싸주어야 한다.!!!

---

sql 인젝션과 비슷한건 기분탓
